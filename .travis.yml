language: python

python:
  - "2.7"

os:
  - linux

sudo: required
dist: trusty

before_install:
  - sudo apt-get update -q

install:
  - sudo make apt

before_script:
  - sudo MY_USER=travis make setup

script:
  - make check
  - make validate

# If we are in the private repo, publish success on the public one
deploy:
  - ./ci.travis.sh